function displayaxe1(){svg.selectAll(".axe2").transition().duration(1e3).style("opacity",0),svg.selectAll(".axe3").transition().duration(1e3).style("opacity",0)}function displayaxe2(){svg.selectAll(".axe1").transition().duration(1e3).style("opacity",0),svg.selectAll(".axe3").transition().duration(1e3).style("opacity",0)}function displayaxe3(){svg.selectAll(".axe1").transition().duration(1e3).style("opacity",0),svg.selectAll(".axe2").transition().duration(1e3).style("opacity",0)}function displayactualize(){displayers[currentIndex](),svg.selectAll("rect.axe"+(currentIndex+1)).attr("y",function(t){return.75*height}).attr("height",function(t){return 0}),svg.selectAll("text.axe"+(currentIndex+1)).transition().delay(0).style("opacity",0)}function scrollsizes(t,e){var a=(e-sectionPositions[t])/scrollheight;a>=0&&a<=1&&(a>=.95&&(a=1),a<=.05&&(a=0),svg.selectAll("rect.axe"+(t+1)).transition().duration(30).attr("y",function(t){return.75*height-Math.round(3*a*t)}).attr("height",function(t){return Math.round(3*a*t)}).style("opacity",1),svg.selectAll("text.axe"+(t+1)).transition().duration(30).style("opacity",a))}var vue=document.getElementById("vue"),height=vue.offsetHeight-30,width=vue.offsetWidth-30,svg=d3.select("#vue").append("svg").attr("width",width).attr("height",height),barpadding=4,arr1,arr2,arr3;d3.csv("data/speedfinal.csv",function(t){axe1=t[0],axe2=t[1],axe3=t[2],arr1=Object.keys(axe1).map(function(t){return axe1[t]}),arr2=Object.keys(axe2).map(function(t){return axe2[t]}),arr3=Object.keys(axe3).map(function(t){return axe3[t]}),rects1=svg.selectAll("rect.axe1").data(arr1).enter().append("rect").attr("class","axe1"),rects1.attr("width",width/arr1.length-barpadding).attr("x",function(t,e){return 1+e*(width/arr1.length)}).attr("y",function(t){return.75*height-Math.round(3*t)}).attr("height",function(t){return Math.round(3*t)}).attr("opacity",0),rects2=svg.selectAll("rect.axe2").data(arr2).enter().append("rect").attr("class","axe2"),rects2.attr("width",width/arr2.length-barpadding).attr("x",function(t,e){return 1+e*(width/arr2.length)}).attr("y",function(t){return.75*height-Math.round(3*t)}).attr("height",function(t){return Math.round(3*t)}).attr("opacity",0),rects3=svg.selectAll("rect.axe3").data(arr3).enter().append("rect").attr("class","axe3"),rects3.attr("width",width/arr3.length-barpadding).attr("x",function(t,e){return 1+e*(width/arr3.length)}).attr("y",function(t){return.75*height-Math.round(3*t)}).attr("height",function(t){return Math.round(3*t)}).attr("opacity",0),svg.selectAll("text.axe1").data(arr1).enter().append("text").attr("class","axe1").text(function(t){return Math.round(t)}).attr("x",function(t,e){return 1+(e+.5)*(width/arr1.length)}).attr("y",function(t){return 20+.75*height-Math.round(3*t)}).attr("text-anchor","middle").attr("opacity",0),svg.selectAll("text.axe2").data(arr2).enter().append("text").attr("class","axe2").text(function(t){return Math.round(t)}).attr("x",function(t,e){return 1+(e+.5)*(width/arr2.length)}).attr("y",function(t){return 20+.75*height-Math.round(3*t)}).attr("text-anchor","middle").attr("opacity",0),svg.selectAll("text.axe3").data(arr3).enter().append("text").attr("class","axe3").text(function(t){return Math.round(t)}).attr("x",function(t,e){return 1+(e+.5)*(width/arr3.length)}).attr("y",function(t){return 20+.75*height-Math.round(3*t)}).attr("text-anchor","middle").attr("opacity",0),svg.append("text").attr("class","graphtitle").attr("x",10+width/arr1.length*1.5+"px").attr("y",.75*height+30+"px").text("Vitesse sur l'axe en km/h")});var displayers=[displayaxe1,displayaxe2,displayaxe3];document.addEventListener("DOMContentLoaded",displayactualize);var scrollheight=300;