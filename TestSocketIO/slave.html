<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Slave</title>
    </head>

    <body>
        <h1>Communication avec socket.io !</h1>

        <p>Message : <span id="mastertext">...</span></p>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io.connect('http://localhost:8080');
            // Slave reçoit un pull du serveur
            socket.on("pull", function (message){
              console.log("Message reçu : "+message);
              // Slave se met à jour
              document.querySelector("span").textContent = message;
            })
        </script>
    </body>
</html>
